<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>KONNIX-Professional Bags Manufacturer - Products</title>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"
            integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo=" crossorigin="anonymous"></script>
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css"/>
    <link rel="icon" href="./img/favicon.ico.ico" type="image/x-icon"/>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"/>
    <link rel="stylesheet" href="./style/all.css"/>
    <link rel="stylesheet" href="./style/products.css"/>

    <style>
        html,
        body {
            height: 100%;
            margin: 0;
        }

        .cardEquip {
            padding-top: 70%;
            overflow: hidden;
            width: 100%;
            background-position: center center;
            background-size: contain;
            background-repeat: no-repeat;
            overflow: hidden;
        }

        .mySwiper .swiper-slide {
            opacity: 0.3

        }

        .mySwiper .swiper-slide-thumb-active {
            opacity: 1
        }
    </style>
</head>

<body style="display: flex;flex-direction: column;">
<div class="d-flex flex-column flex-grow-1">
    <div class="flex-shrink-0 sticky-top mb-4">
        <div class="container-fluid d-flex justify-content-center priBgHover py-3">
            <a href="#" class="h6 text-white text-decoration-none fw-bold mb-0 me-3">
                <i class="bi bi-telephone-fill me-2"></i>
                886-4-2681 5259
            </a>
            <a href="mailto:sales@konnix.com" class="h6 text-white text-decoration-none fw-bold mb-0">
                <i class="bi bi-envelope-fill me-2"></i>
                sales@konnix.com
            </a>
        </div>

        <nav class="navbar navbar-expand-lg bg-body-tertiary py-0">
            <div class="container-fluid py-0">
                <button class="navbar-toggler py-0" type="button" data-bs-toggle="collapse"
                        data-bs-target="#konnixnavbarToggler" aria-controls="konnixnavbarToggler" aria-expanded="false"
                        aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <div class="collapse navbar-collapse justify-content-between py-0" id="konnixnavbarToggler">
                    <a class="navbar-brand py-0" href="https://konnix.com/"><img src="./img/logoRow.svg"
                                                                                 alt="KONNIX-Professional Bags Manufacturer - Products"/></a>
                    <ul class="navbar-nav mb-2 mb-lg-0 navCustomize py-0" style="height: 100%">
                        <li class="nav-item">
                            <a class="nav-link" aria-current="page" href="./index.html">Home</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link active" href="./products.html">Products</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Videos</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">About Us</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">Contact</a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
    </div>

    <div class="container-xl flex-grow-1">
        <div class="row mb-3">
            <div class="col-12 col-sm-6 mb-3">
                <div style="--swiper-navigation-color: #fff; --swiper-pagination-color: #fff;"
                     class="swiper mySwiper2 mb-3">
                    <div id="main-image" class="swiper-wrapper">
                        <div class="swiper-slide">
                            <div>
                                <div class="cardEquip"
                                     style="background-image: url('./img/products/bike_packing/cage_bag/WR-15840K/WR-15840K.jpg');"></div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-button-next"></div>
                    <div class="swiper-button-prev"></div>
                </div>
                <div thumbsSlider="" class="swiper mySwiper ">
                    <div id="slide-image" class="swiper-wrapper">
                        <div class="swiper-slide">
                            <div>
                                <div class="cardEquip"
                                     style="background-image: url('./img/products/bike_packing/cage_bag/WR-15840K/WR-15840K.jpg');"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6">
                <h2 id="product-name" class="mb-3 fw-bold "></h2>
                <div id="content" class="px-4" style="color:#595857">
                </div>
            </div>
        </div>
        <!--        <div class="row mb-3 ">-->
        <!--            <div><p class="d-flex fs-3 justify-content-center border-bottom">Info</p></div>-->
        <!--            <div class="d-flex justify-content-center mb-3">-->
        <!--                <iframe width="560" height="315" src="https://www.youtube.com/embed/EnfuDqHZeaU?si=Fj05eDPBV_wdJ9_j"-->
        <!--                        title="YouTube video player" frameborder="0"-->
        <!--                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"-->
        <!--                        allowfullscreen></iframe>-->
        <!--            </div>-->
        <!--            <div class="d-flex justify-content-center mb-3">-->
        <!--                <iframe width="560" height="315" src="https://www.youtube.com/embed/EnfuDqHZeaU?si=Fj05eDPBV_wdJ9_j"-->
        <!--                        title="YouTube video player" frameborder="0"-->
        <!--                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"-->
        <!--                        allowfullscreen></iframe>-->
        <!--            </div>-->
        <!--        </div>-->
    </div>
</div>
<footer class="container-fluid py-4" style="background-color: #ebebeb">
    <p class="text-center fs-5 mb-0">Copyright Â© 2013 Konnix Industrial Co.,Ltd.</p>
</footer>

</body>


<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
        integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
        crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
        integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
        crossorigin="anonymous"></script>

<script>
    AOS.init();
</script>
<script>
    var swiper = new Swiper(".mySwiper", {
        spaceBetween: 10,
        slidesPerView: 4,
        freeMode: true,
        watchSlidesProgress: true,
    });
    var swiper2 = new Swiper(".mySwiper2", {
        spaceBetween: 10,
        navigation: {
            nextEl: ".swiper-button-next",
            prevEl: ".swiper-button-prev",
        },
        thumbs: {
            swiper: swiper,
        },
    });
    $(function () {
        let jsonList = [
            "bike_packing.json",
            "basket shopping bag.json",
            "handlebar_bag.json",
            "outdoor_waterproof collection.json",
            "double_pannier_triple_pannier.json",
            "frame_bag.json",
            "i-Touch_bag.json",
            "saddle_bag.json",
            "trunk_bag.json",
            "pannier_bag.json",
            "system.json",
            "waterproof_motorcycle_collection.json",
            "wheel_bag.json",
            "messenger_bag.json"
        ];
        let products = [];
        let fetchPromises = jsonList.map((str) => {
            return fetch("./products/" + str)
                .then((res) => {
                    if (!res.ok) {
                        throw new Error
                        (`HTTP error! Status: ${res.status}`);
                    }
                    return res.json();
                })
                .then((data) => {
                    products.push(data);
                    return data;
                })
                .catch((error) => {
                    console.error("json error=>", error);
                    console.error("Unable to fetch data:" + str);
                });
        })
        Promise.all(fetchPromises)
            .then((products) => {
                console.log("All fetch requests completed successfully:", products);
                setContent(products);
            })
            .catch((error) => {
                console.error("An error occurred during fetching:", error);
            });

    });

    function setContent(products) {
        const urlParams = new URLSearchParams(window.location.search);
        const params = Object.fromEntries(urlParams.entries());
        if (params.i) {
            let productName = params.i;
            products.forEach((product) => {
                if (product[productName]) {
                    let dataInfo = product[productName];
                    document.getElementById("product-name").innerText = productName;
                    let contentHtml = "";
                    dataInfo.text.forEach((text) => {
                        contentHtml += `<p class="textIndent"><i class="bi bi-caret-right-fill" style="font-size: 8pt;"></i>` + text + `</p>`;
                    });
                    document.getElementById("content").innerHTML = contentHtml;

                    let mainImageHtml = "";
                    let slideImageHtml = "";
                    let index = 0;
                    dataInfo.img.forEach((image) => {
                        mainImageHtml += `<div class="swiper-slide">`
                        mainImageHtml += `<div>`
                        mainImageHtml += `<div class="cardEquip" style='background-image: url("` + image + `");'></div>`
                        mainImageHtml += `</div>`
                        mainImageHtml += `</div>`
                        mainImageHtml += `</div>`

                        slideImageHtml += `<div class="swiper-slide">`
                        slideImageHtml += `<div>`
                        slideImageHtml += `<div class="cardEquip" style="background-image: url('` + image + `');"></div>`
                        slideImageHtml += `</div>`
                        slideImageHtml += `</div>`
                        slideImageHtml += `</div>`
                        index++;
                    });

                    document.getElementById("main-image").innerHTML = mainImageHtml;
                    if (index == 1) {
                        document.getElementById("slide-image").innerHTML = "";
                    } else {
                        document.getElementById("slide-image").innerHTML = slideImageHtml;
                    }

                }
            })
        }
    }
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
        crossorigin="anonymous"></script>
</html>
